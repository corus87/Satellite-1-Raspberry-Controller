AMP_I2C_ADDRESS = 0x3F

TAS2780_PAGE_SELECT = 0x00

TAS2780_SW_RESET = 0x01
TAS2780_MODE_CTRL = 0x02
TAS2780_MODE_CTRL_BOP_SRC__PVDD_UVLO  = 0x80
TAS2780_MODE_CTRL_MODE_MASK  = 0x07
TAS2780_MODE_CTRL_MODE__ACTIVE  = 0x00
TAS2780_MODE_CTRL_MODE__ACTIVE_MUTED  = 0x01
TAS2780_MODE_CTRL_MODE__SFTW_SHTDWN  = 0x02

TAS2780_CHNL_0 = 0x03
TAS2780_CHNL_0_CDS_MODE_SHIFT = 6
TAS2780_CHNL_0_CDS_MODE_MASK = (0x03 << TAS2780_CHNL_0_CDS_MODE_SHIFT)
TAS2780_CHNL_0_AMP_LEVEL_SHIFT = 1
TAS2780_CHNL_0_AMP_LEVEL_MASK = (0x1F) << TAS2780_CHNL_0_AMP_LEVEL_SHIFT

TAS2780_DC_BLK0 = 0x04
TAS2780_DC_BLK0_VBAT1S_MODE_SHIFT  = 7
TAS2780_DC_BLK1 = 0x05
TAS2780_MISC_CFG1 = 0x06
TAS2780_MISC_CFG2 = 0x07
TAS2780_TDM_CFG0 = 0x08
TAS2780_TDM_CFG1 = 0x09

TAS2780_TDM_CFG2 = 0x0A
TAS2780_TDM_CFG2_RX_SCFG_SHIFT = 4
TAS2780_TDM_CFG2_RX_SCFG_MASK = (3 << TAS2780_TDM_CFG2_RX_SCFG_SHIFT)
TAS2780_TDM_CFG2_RX_SCFG__STEREO_DWN_MIX = (3 << TAS2780_TDM_CFG2_RX_SCFG_SHIFT)
TAS2780_TDM_CFG2_RX_SCFG__MONO_LEFT = (1 << TAS2780_TDM_CFG2_RX_SCFG_SHIFT)
TAS2780_TDM_CFG2_RX_SCFG__MONO_RIGHT = (2 << TAS2780_TDM_CFG2_RX_SCFG_SHIFT)
TAS2780_TDM_CFG2_RX_WLEN_SHIFT = 2
TAS2780_TDM_CFG2_RX_WLEN_MASK = (3 << TAS2780_TDM_CFG2_RX_WLEN_SHIFT)
TAS2780_TDM_CFG2_RX_WLEN__16BIT = (0 << TAS2780_TDM_CFG2_RX_WLEN_SHIFT)
TAS2780_TDM_CFG2_RX_WLEN__24BIT = (2 << TAS2780_TDM_CFG2_RX_WLEN_SHIFT)
TAS2780_TDM_CFG2_RX_WLEN__32BIT = (3 << TAS2780_TDM_CFG2_RX_WLEN_SHIFT)
TAS2780_TDM_CFG2_RX_SLEN_MASK = (3 << 0)
TAS2780_TDM_CFG2_RX_SLEN__32BIT = 2

TAS2780_LIM_MAX_ATTN = 0x0B
TAS2780_TDM_CFG3 = 0x0C
TAS2780_TDM_CFG4 = 0x0D
TAS2780_TDM_CFG5 = 0x0E
TAS2780_TDM_CFG6 = 0x0F
TAS2780_TDM_CFG7 = 0x10
TAS2780_TDM_CFG8 = 0x11
TAS2780_TDM_CFG9 = 0x12
TAS2780_TDM_CFG10 = 0x13
TAS2780_TDM_CFG11 = 0x14
TAS2780_ICC_CNFG2 = 0x15
TAS2780_TDM_CFG12 = 0x16
TAS2780_ICLA_CFG0 = 0x17
TAS2780_ICLA_CFG1 = 0x18
TAS2780_DG_0 = 0x19

TAS2780_DVC = 0x1A
TAS2780_LIM_CFG0 = 0x1B
TAS2780_LIM_CFG1 = 0x1C
TAS2780_BOP_CFG0 = 0x1D
TAS2780_BOP_CFG1 = 0x1E
TAS2780_BOP_CFG2 = 0x1F
TAS2780_BOP_CFG3 = 0x20
TAS2780_BOP_CFG4 = 0x21
TAS2780_BOP_CFG5 = 0x22
TAS2780_BOP_CFG6 = 0x23
TAS2780_BOP_CFG7 = 0x24
TAS2780_BOP_CFG8 = 0x25
TAS2780_BOP_CFG9 = 0x26
TAS2780_BOP_CFG10 = 0x27
TAS2780_BOP_CFG11 = 0x28
TAS2780_BOP_CFG12 = 0x29
TAS2780_BOP_CFG13 = 0x2A
TAS2780_BOP_CFG14 = 0x2B
TAS2780_BOP_CFG15 = 0x2C
TAS2780_BOP_CFG17 = 0x2D
TAS2780_BOP_CFG18 = 0x2E
TAS2780_BOP_CFG19 = 0x2F
TAS2780_BOP_CFG20 = 0x30
TAS2780_BOP_CFG21 = 0x31
TAS2780_BOP_CFG22 = 0x32
TAS2780_BOP_CFG23 = 0x33
TAS2780_BOP_CFG24 = 0x34
TAS2780_NG_CFG0 = 0x35
TAS2780_NG_CFG1 = 0x36
TAS2780_LVS_CFG0 = 0x37
TAS2780_DIN_PD = 0x38

#/* Interrupts */
TAS2780_INT_MASK0 = 0x3B
TAS2780_INT_MASK1 = 0x3C
TAS2780_INT_MASK4 = 0x3D
TAS2780_INT_MASK2 = 0x40
TAS2780_INT_MASK3 = 0x41
TAS2780_INT_LIVE0 = 0x42
TAS2780_INT_LIVE1 = 0x43
TAS2780_INT_LIVE1_0 = 0x44
TAS2780_INT_LIVE2 = 0x47
TAS2780_INT_LIVE3 = 0x48
TAS2780_INT_LTCH0 = 0x49
TAS2780_INT_LTCH1 = 0x4A
TAS2780_INT_LTCH1_0 = 0x4B
TAS2780_INT_LTCH2 = 0x4F
TAS2780_INT_LTCH3 = 0x50
TAS2780_INT_LTCH4 = 0x51

TAS2780_VBAT_MSB = 0x52
TAS2780_VBAT_LSB = 0x53
TAS2780_PVDD_MSB = 0x54
TAS2780_PVDD_LSB = 0x55
TAS2780_TEMP = 0x56
TAS2780_INT_CLK_CFG = 0x5C
TAS2780_MISC_CFG3 = 0x5D
TAS2780_CLOCK_CFG = 0x60
TAS2780_IDLE_IND = 0x63
TAS2780_SAR_SAMP = 0x64
TAS2780_MISC_CFG4 = 0x65
TAS2780_TG_CFG0 = 0x67
TAS2780_CLK_CFG = 0x68
TAS2780_LV_EN_CFG = 0x6A
TAS2780_NG_CFG2 = 0x6B
TAS2780_NG_CFG3 = 0x6C
TAS2780_NG_CFG4 = 0x6D
TAS2780_NG_CFG5 = 0x6E
TAS2780_NG_CFG6 = 0x6F
TAS2780_NG_CFG7 = 0x70
TAS2780_PVDD_UVLO = 0x71
TAS2780_DMD = 0x73
TAS2780_I2C_CKSUM = 0x7E
TAS2780_BOOK = 0x7F


TAS2780_INIT_0 = 0x17
TAS2780_LSR = 0x19
TAS2780_INIT_1 = 0x21
TAS2780_INIT_2 = 0x35
TAS2780_INT_LDO = 0x36
TAS2780_SDOUT_HIZ_1 = 0x3D
TAS2780_SDOUT_HIZ_2 = 0x3E
TAS2780_SDOUT_HIZ_3 = 0x3F
TAS2780_SDOUT_HIZ_4 = 0x40
TAS2780_SDOUT_HIZ_5 = 0x41
TAS2780_SDOUT_HIZ_6 = 0x42
TAS2780_SDOUT_HIZ_7 = 0x43
TAS2780_SDOUT_HIZ_8 = 0x44
TAS2780_SDOUT_HIZ_9 = 0x45
TAS2780_TG_EN = 0x47
TAS2780_EDGE_CTRL = 0x4C

#/* PAGE 0x04*/
TAS2780_DG_DC_VAL1 = 0x08
TAS2780_DG_DC_VAL2 = 0x09
TAS2780_DG_DC_VAL3 = 0x0A
TAS2780_DG_DC_VAL4 = 0x0B
TAS2780_LIM_TH_MAX1 = 0x0C
TAS2780_LIM_TH_MAX2 = 0x0D
TAS2780_LIM_TH_MAX3 = 0x0E
TAS2780_LIM_TH_MAX4 = 0x0F
TAS2780_LIM_TH_MIN1 = 0x10
TAS2780_LIM_TH_MIN2 = 0x11
TAS2780_LIM_TH_MIN3 = 0x12
TAS2780_LIM_TH_MIN4 = 0x13
TAS2780_LIM_INF_PT1 = 0x14
TAS2780_LIM_INF_PT2 = 0x15
TAS2780_LIM_INF_PT3 = 0x16
TAS2780_LIM_INF_PT4 = 0x17
TAS2780_LIM_SLOPE1 = 0x18
TAS2780_LIM_SLOPE2 = 0x19
TAS2780_LIM_SLOPE3 = 0x1A
TAS2780_LIM_SLOPE4 = 0x1B
TAS2780_TF_HLD1 = 0x1C
TAS2780_TF_HLD2 = 0x1D
TAS2780_TF_HLD3 = 0x1E
TAS2780_TF_HLD4 = 0x1F
TAS2780_TF_RLS1 = 0x20
TAS2780_TF_RLS2 = 0x21
TAS2780_TF_RLS3 = 0x22
TAS2780_TF_RLS4 = 0x23
TAS2780_TF_SLOPE1 = 0x24
TAS2780_TF_SLOPE2 = 0x25
TAS2780_TF_SLOPE3 = 0x26
TAS2780_TF_SLOPE4 = 0x27
TAS2780_TF_TEMP_TH1 = 0x28
TAS2780_TF_TEMP_TH2 = 0x29
TAS2780_TF_TEMP_TH3 = 0x2A
TAS2780_TF_TEMP_TH4 = 0x2B
TAS2780_TF_MAX_ATTN1 = 0x2C
TAS2780_TF_MAX_ATTN2 = 0x2D
TAS2780_TF_MAX_ATTN3 = 0x2E
TAS2780_TF_MAX_ATTN4 = 0x2F
TAS2780_LD_CFG0 = 0x40
TAS2780_LD_CFG1 = 0x41
TAS2780_LD_CFG2 = 0x42
TAS2780_LD_CFG3 = 0x43
TAS2780_LD_CFG4 = 0x44
TAS2780_LD_CFG5 = 0x45
TAS2780_LD_CFG6 = 0x46
TAS2780_LD_CFG7 = 0x47
TAS2780_CLD_EFF_1 = 0x48
TAS2780_CLD_EFF_2 = 0x49
TAS2780_CLD_EFF_3 = 0x4A
TAS2780_CLD_EFF_4 = 0x4B
TAS2780_LDG_RES1 = 0x4C
TAS2780_LDG_RES2 = 0x4D
TAS2780_LDG_RES3 = 0x4E
TAS2780_LDG_RES4 = 0x4F



TAS2780_INIT_3 = 0x3E

TAS2780_INT_LTCH0_IR_OT =    (1 << 0)
TAS2780_INT_LTCH0_IR_OC =    (1 << 1)
TAS2780_INT_LTCH0_IR_TDMCE = (1 << 2)
TAS2780_INT_LTCH0_IR_LIMA =  (1 << 3)
TAS2780_INT_LTCH0_IR_PBIP =  (1 << 4)
TAS2780_INT_LTCH0_IR_LIMMA = (1 << 5)
TAS2780_INT_LTCH0_IR_BOPIH = (1 << 6)
TAS2780_INT_LTCH0_IR_BOPM = (1 << 7)

TAS2780_INT_LTCH1_IR_VBATLIM = (1 << 0)
TAS2780_INT_LTCH1_IR_LDMODE =  (3 << 3)
TAS2780_INT_LTCH1_IR_LDC =     (1 << 5)
TAS2780_INT_LTCH1_IR_OTPCRC =  (1 << 6)

TAS2780_INT_LTCH1_0_IR_VBAT1S_UVLO  = (1 << 5)
TAS2780_INT_LTCH1_0_IR_PLL_CLK =      (1 << 7)

TAS2780_INT_LTCH2_IR_PUVLO  = (1 << 0)
TAS2780_INT_LTCH2_IR_LDO_OL = (1 << 1)
TAS2780_INT_LTCH2_IR_LDO_OV = (1 << 2)
TAS2780_INT_LTCH2_IR_LDO_UV = (1 << 3)


POWER_MODES = [
  [2, 0], #// PWR_MODE0: CDS_MODE=10, VBAT1S_MODE=0
  [0, 0], #// PWR_MODE1: CDS_MODE=00, VBAT1S_MODE=0
  [3, 1], #// PWR_MODE2: CDS_MODE=11, VBAT1S_MODE=1
  [1, 0], #// PWR_MODE3: CDS_MODE=01, VBAT1S_MODE=0
  ]